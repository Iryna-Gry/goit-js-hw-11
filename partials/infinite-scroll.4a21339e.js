!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),u=a("2TvXO"),i=a("iwbpK"),c=a("h6c0i"),s=a("5IjG7"),l=a("dI30Z"),p=a("1cIlU"),f=document.querySelector("div.gallery"),d=document.getElementById("search-form"),h=1,y=1,g=new(e(s))(".photo-card a",{captionDelay:250}),m=1,w={q:"",image_type:"photo",orientation:"horizontal",safesearch:!0,page:"",per_page:40};function b(){return(b=e(o)(e(u).mark((function t(r){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),f.innerHTML="",h=1,w.page=h,w.q=r.currentTarget.elements.searchQuery.value.trim(),""!==w.q){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,x(w);case 9:q(),d.reset();case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function x(e){return v.apply(this,arguments)}function v(){return(v=e(o)(e(u).mark((function t(r){var n;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(m),0!==m){e.next=4;break}return c.Notify.info("We're sorry, but you've reached the end of search results."),e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,i.default)(r);case 7:if(200===(n=e.sent).status){e.next=10;break}return e.abrupt("return",c.Notify.failure("Sorry, there are no images matching your search query. Please try again."));case 10:return y=Math.ceil(n.data.totalHits/40),e.next=13,k(n);case 13:return e.abrupt("return",{data:data});case 16:if(e.prev=16,e.t0=e.catch(4),404!==e.t0.status){e.next=22;break}return c.Notify.failure("Sorry, there are no images matching your search query. Please try again."),f.innerHTML="",e.abrupt("return");case 22:case"end":return e.stop()}}),t,null,[[4,16]])})))).apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return(T=e(o)(e(u).mark((function t(r){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,(0,l.default)(r);case 3:if(e.t1=e.sent,e.t0.insertAdjacentHTML.call(e.t0,"beforeend",e.t1),1!==w.page){e.next=7;break}return e.abrupt("return",c.Notify.success("Hoorray! We found ".concat(r.data.totalHits," images")));case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function q(){g=new(e(s))(".photo-card a",{captionDelay:250})}new(e(p))(document.scrollingElement,{damping:.6}),d.addEventListener("submit",(function(e){return b.apply(this,arguments)})),window.addEventListener("scroll",e(o)(e(u).mark((function t(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(window.scrollY+window.innerHeight>=document.documentElement.scrollHeight)){e.next=6;break}return w.page+=1,m=y-w.page+1,e.next=5,x(w);case 5:g.refresh("show.simplelightbox");case 6:case"end":return e.stop()}}),t)}))))}();
//# sourceMappingURL=infinite-scroll.4a21339e.js.map
